!function(){var t=window.jwplayer("container");window.CastPluginJS=function(t,e){var a=CastPluginJS.prototype,n=t,s=NativeCastPlugin,r=void 0,o=!0;a.initCastSdk=function(){s.addSessionManagerListener(),this.updateCastState()},a.updateCastState=function(){var t=s.isAvailable(),e=s.isActive(),i=s.getDeviceName(),a=n.get("castAvailable"),r=n.get("castActive");(t!==a||e!==r||o)&&(n.set("castAvailable",t),n.set("castActive",e),n.set("castState",{available:t,active:e,deviceName:i}),o=!1)},a.resumeCasting=function(){var t=s.getMediaClientCurrentItemJsonString();if(t){var e=JSON.parse(t),a=e.media.contentId;this.playlistIndex=e.media.metadata.index;var o=n.getPlaylistItem(this.playlistIndex),g=[];for(g.push(o.file),i=0;i<o.sources.length;i++)g.push(o.sources[i].file);this.isResume=g.indexOf(a)>-1,r||(r=new CastProviderJS(n,n.getConfig())),n.castVideo(r,o)}this.updateCastState()},a.startCasting=function(){!1;var t="PLAYING"==n.getState();n.pause(),n.set("state","buffering"),r||(r=new CastProviderJS(n,n.getConfig())),r.setPlayWhenReady(t),n.castVideo(r,n.get("playlistItem")),this.updateCastState()},a.stopCasting=function(){var t=n.get("state");const e=n.get("item"),i=n.get("currentTime"),a=n.get("playlist");var s=n.get("playlistItem");s.starttime=i,r=null,!1,s&&"error"===t&&(void 0===(s=a[e+1])?t="complete":(n.set("item",e+1),n.set("playlistItem",s))),this.updateCastState(),n.stopCast(),"complete"===t||"idle"===t||this.isBackgrounded||n.play()},a.destroy=function(){s.removeSessionManagerListener(),n=null,null},a.playlistItem=function(t){n.playlistItem(t)},a.triggerSeeked=function(){r.triggerSeeked()},a.triggerVolumeChanged=function(t){r.triggerVolumeChanged(t)},a.loadComplete=function(){this.updateCastState(),r.loadComplete()},a.triggerTime=function(t,e,i){r.triggerTime(t,e,i)},a.setState=function(t){r.setState(t)},a.triggerComplete=function(){r.trigger("complete")},a.triggerPlaybackRateChanged=function(t){r.triggerPlaybackRateChanged(t)},a.onReady=function(){o=!0},a.onBackgrounded=function(t){this.isBackgrounded=t},this.initCastSdk(),t.on("ready",this.onReady,this)},Object.assign(CastPluginJS.prototype,t.Events),t.registerPlugin("casting","8.0",CastPluginJS)}();
